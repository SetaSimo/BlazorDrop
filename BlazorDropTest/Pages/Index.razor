@page "/"
@using BlazorDrop
@using BlazorDrop.Components

<div class="container mt-5">
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Single Select</h5>
            <div class="form-group mb-2">
                <BlazorDropSelect T="KeyValuePair<Guid, string>"
                                  Placeholder="Select value"
                                  Value="@_singleSelected"
                                  DisplaySelector="@(x => x.Value)"
                                  OnLoadItemsAsync="LoadItemsPagedAsync"
                                  OnSearchTextChangedAsync="SearchByTextAsync"
                                  OnItemClickAsync="OnItemSelected"
                                  ValueNotFoundMessageText="Not found" />
            </div>
            <div class="text-muted">Selected: @_singleSelected.Value</div>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Multi Select</h5>
            <div class="form-group mb-2">
                <BlazorDropMultiSelect T="KeyValuePair<Guid, string>"
                                       Placeholder="Select multiple"
                                       DisplaySelector="@(x => x.Value)"
                                       OnLoadItemsAsync="LoadItemsPagedAsync"
                                       OnSearchTextChangedAsync="SearchByTextAsync"
                                       OnItemClickAsync="OnMultiItemSelected"
                                       ValueNotFoundMessageText="Not found" />
            </div>
            <ul class="text-muted mb-0">
                @foreach (var item in _multiSelected)
                {
                    <li>@item.Value</li>
                }
            </ul>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Custom Template</h5>
            <div class="form-group mb-2">
                <BlazorDropSelect T="KeyValuePair<Guid, string>"
                                  Placeholder="With custom template"
                                  Value="@_templatedSelect"
                                  DisplaySelector="@(x => x.Value)"
                                  OnLoadItemsAsync="LoadItemsPagedAsync"
                                  OnSearchTextChangedAsync="SearchByTextAsync"
                                  OnItemClickAsync="OnTemplateItemSelected"
                                  ValueNotFoundMessageText="Not found">
                    <ItemTemplate Context="item">
                        <span class="text-success fw-semibold">@item.Value</span>
                    </ItemTemplate>
                </BlazorDropSelect>
            </div>
            <p class="text-muted">Selected: @_templatedSelect.Value</p>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">BlazorDropList Example</h5>
            <div class="form-group mb-2">
                <BlazorDropList T="KeyValuePair<Guid, string>"
                                Value="@_listSelected"
                                DisplaySelector="@(x => x.Value)"
                                OnLoadItemsAsync="LoadItemsPagedWithDelayAsync"
                                OnItemClickAsync="OnListItemSelected"
                                ValueNotFoundMessageText="Empty list"
                                PageSize="15" />
            </div>
            <p class="text-muted">Selected: @_listSelected.Value</p>
        </div>
    </div>
</div>
